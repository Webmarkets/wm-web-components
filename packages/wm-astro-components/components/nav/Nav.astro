---
import NavItem from './NavItem.astro'

type NavItem = {
    title: string;
    link: string;
    children?: NavItem[]
}

export interface Props {
    navItems: NavItem[]
}

const { navItems } = Astro.props as Props

const generateNavItems = (navItems: NavItem[]) => {
    return navItems.map(({ title, link, children }) => {
        if (children) {
            return <NavItem title={title} children={generateNavItems(children)} />
        } else {
            return <NavItem title={title} link={link} />
        }
    })
}
---

<nav>
    {generateNavItems(navItems)}
</nav>